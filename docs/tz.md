# Техническое задание


## Общие сведения

1. Цель проекта

Создание программно-аппаратной платформы для мониторинга, простейшего анализа и визуализации данных о микроклимате с внешних датчиков. С дополнительной функцией интеллектуальных рекомендаций. 

2. Команда исполнителей

Зонов Николай - программирование(ESP, FreeRTOS)

Трусковский Георгий - программирование(BLE,FreeRTOS, parsing)

Богоявленский Александр - QA, Дизайн(интерфейс, физика устройства)

## Технические требования

### 1. Требования к функциональным характеристикам
| id | Требование | Приоритет/5 |
|--------|--------|-----------|
| 1 | Система должна собирать данные о микроклимате, а именно температуру, влажность, атмосферное давление и уровень CO2 в воздухе с заданным интервалом | 5|
| 2 | Система должна хранить историю этих данных за последние 3 дня  | 5 |
| 3 | Система должна визуализировать данные на встроенном дисплее в двух режимах: Текущие значения и График значений за последние 3 дня | 5 |
| 4 | Система должна формировать базовые рекомендации на основе показателей (Прим. “Проветрить помещение при высоком уровне CO2”, “Включить увлажнитель воздуха при низкой влажности воздуха”) | 4 |
| 5 | Система должна позволять настроить допустимые диапазоны для уведомлений | 3 |
| 6 | Система должна подключаться к внешним датчикам по BLE | 5 |



### 2. Требования к надежности
Коэффициент готовности система должен составлять не менее 90% в течении календарного месяца.

Среднее время между возникновением критических ошибок, которые приводят к потери функциональности не должно превышать шести месяцев. 

Среднее время восстановления работоспособности (Возвращения полного функционала после критической ошибки) не более 60-ти секунд. 

### 3. Условия эксплуатации

Комнатная температура ( от +10 C, до + 30 C), беречь от влаги. Использование внутри помещения

### 4. Требования к составу и параметрам технических средств
Аппаратная платформа: Микроконтроллер ESP32-S3 с модулями Wi-Fi и BLE

Дисплей: ЖК-Дисплей IPS


Память: внешняя память для хранения данных  <- На чипе или в сенсоре

Питание: TYPE-C

### 5. Требования к информационной и программной совместимости 

ОС: FreeRTOS

Фреймворк: ESP-IDF

BLE: Nimble

Графика: LVGL 

Формат данных для хранения и конфигурации: JSON

СКВ: Git


### 6. Требования к транспортированию и хранению

Транспортировка должна осуществляться в условиях, исключающих механические повреждения, попадание влаги и воздействие экстремальных температур.

## Требования к документации

Техническое задание (этот документ)

Техника тестирования

Руководство по использованию

Исходный код

Схемы и описания аппаратной части

Вся документация в формате PDF или Markdown

## Технико-экономические показатели

[ESP32-S3 ЖК-Дисплей IPS Емкостный Сенсорный Для LVGL 4,3 Дюйма](https://ozon.ru/t/a5MxCI9) - ~  1700 рублей

[Датчик температуры и влажности суббренд Xiaomi Mijia Bluetooth Thermometer 2 (LYWSD03MMC)/метеостанция NUN4106CN](https://ozon.ru/t/OMeJrzv) - ~ 600 рублей



Преимущества: Кастомизируемость и расширяемость за счет открытого исходного кода, когда у аналогов закрытая экосистема и ограниченная функциональность.


## Стадии и этапы разработки

| Этап | Содержание работ | Срок | Исполнитель |
|------|------------------|------|-------------|
| **1. Подготовительный этап** | Построение структуры проекта, настройка окружения, установка всех нужных зависимостей | 1 неделя | Все |
| **2.1. Разработка Модуля связи** | Разработка программного модуля для сканирования, подключения и чтения данных с устройств (с постоянной интеграцией с модулем Николая) | 1.5 месяца | Георгий |
| **2.2. Разработка Модуля данных** | Разработка программного модуля для хранения данных и передачи данных на отрисовку (с постоянной интеграцией с модулем Георгия) | 1.5 месяца | Николай |
| **2.3. Разработка Интерфейса** | Разработка пользовательского интерфейса для взаимодействия с системой (с постоянной интеграцией обоих модулей описанных выше) | 1.5 месяца | Александр |
| **2.4. Разработка модуля Инт. Рекомендаций** | Разработка модуля, который выполняет анализ данных и создает рекомендации для пользователя | 1 месяц | Николай и Георгий |
| **3.1. Тестирование** | Поиск внутренних ошибок и составление баг репортов | 1 месяц | Александр |
| **3.2. Исправление ошибок** | Изменение внутренней структуры или кода, для оптимизации и исправления критических ошибок и их последствий при невозможности устранения | 1 месяц | Николай и Георгий |


## Порядок контроля и приемки

 Виды испытаний:

Проверка соответствия функций требованиям, изложенных в пункте 2.1

Проверка устойчивости к потере связи и длительной работе

Проверка безопасности в подтверждении подключения только к заранее заданным датчикам


## Ссылки на источники

1. ГОСТ 19.201-78 Техническое задание. Требования к содержанию и оформлению
